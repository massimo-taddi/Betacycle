
<h1 style="margin-bottom: 30px;">I miei ordini</h1>
  <p-table [value]="orders">
      <ng-template pTemplate="orders">
          Ordini effettuati
      </ng-template>
      <ng-template pTemplate="header" let-columns>
          <tr>
            <th scope="col">Numero Ordine</th>
            <th scope="col">Data ordine</th>
            <th scope="col">Data Spedizione</th>
            <th scope="col">Indirizzo di spedizione</th>
            <th scope="col">Stato dell'ordine</th>
            <th scope="col">Tipo Spedizione</th>
            <th scope="col">Totale</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-order let-columns="columns">
          <tr style="border-bottom: 1px solid grey;">
              <td>{{order.salesOrderNumber}}</td>
              <td>{{order.orderDate}}</td>
              <td>{{order.shipDate}}</td>
              <td>{{order.shipToAddress?.addressLine1}}</td>
              <td><span id="status-box">{{orderStatusString(order.status)}}</span></td>
              <td>{{order.shipMethod}}</td>
              <td>{{order.subTotal | currency:'USD'}}</td>
              <td><p-button label="Visualizza dettagli" icon="pi pi-box" (click)="dialogBool=true;" styleClass="p-button-warning"></p-button></td>
              
              <p-dialog header="Dettagli ordine N. {{order.salesOrderNumber}}" draggable="false" [modal]="true" [(visible)]="dialogBool" [style]="{ width: '70rem' }" 
              [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
              <p-table [value]="order.salesOrderDetails">
                <ng-template pTemplate="header" let-columns>
                  <th scope="col">#</th>
                  <th scope="col">Nome Prodotto</th>
                  <th scope="col">Colore</th>
                  <th scope="col">Prezzo Singolo</th>
                  <th scope="col">Quantita'</th>
                  <th scope="col"></th>
                </ng-template>
                <ng-template pTemplate="body" let-eachDet let-rowIndex="rowIndex">
                  <tr style="border-bottom: 1px solid grey;" [pEditableRow]="true">
                    <td><img style="max-width: fit-content;" class="card-img-top" src="data:image/gif;base64, {{eachDet.product.thumbNailPhoto}}" alt="{{eachDet.product.thumbNailPhotoFileName}}"></td>
                    <td>{{eachDet.product.name}}</td>
                    <td>{{eachDet.product.color}}</td>
                    <td>{{eachDet.unitPrice | currency:'USD'}}</td>
                    <td>{{eachDet.orderQty}}</td>
                  </tr>
                </ng-template>
              </p-table>
              </p-dialog>
          </tr>
      </ng-template>
  </p-table>
